# üå¶ Weather ‚Äî Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ–≥–æ–¥—ã —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ API

![Python](https://img.shields.io/badge/Python-3.11.9-blue?logo=python&logoColor=white)
![Django](https://img.shields.io/badge/Django-5.0-green?logo=django)
![PostgreSQL](https://img.shields.io/badge/Postgres-16-blue?logo=postgresql)
![Redis](https://img.shields.io/badge/Redis-cache-red?logo=redis)
![Docker](https://img.shields.io/badge/Docker-ready-blue?logo=docker)

**Weather** ‚Äî —ç—Ç–æ Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ:

- –ü–æ–ª—É—á–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã —á–µ—Ä–µ–∑ API Open-Meteo
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–∏—Å–∫–∞—Ö (–≥–æ—Ä–æ–¥, IP, user agent, —Å–µ—Å—Å–∏—è)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Docker —Å PostgreSQL –∏ Redis
- –ü–æ–∫—Ä—ã—Ç–æ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞–º–∏

---

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- Python 3.11.9
- Django 5.x
- Django REST Framework
- PostgreSQL 16
- Redis
- Docker + Docker Compose
- Pytz + Babel (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã/–≤—Ä–µ–º–µ–Ω–∏)
- Unittest + Mock (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Docker

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**

```bash
git clone https://github.com/wpotoke/weather.git
cd weather
````

2. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

```bash
cp .env.example .env
```

3. **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ SECRET\_KEY (–µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ):**

```bash
python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
```
- –≤—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ .env

4. **–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ —É–∫–∞–∂–∏—Ç–µ –∫–æ–¥–∏—Ä–æ–≤–∫—É**

```pqsl
CREATE USER your_username WITH PASSWORD 'your_password';
CREATE DATABASE your_databasename OWNER your_username ENCODING 'UTF8' LC_COLLATE 'ru_RU.UTF8' LC_CTYPE 'ru_RU.UTF8' TEMPLATE=template0;
```


5. **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**

```bash
cd app
docker-compose up --build
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: [http://localhost:8000](http://localhost:8000)

---

## üîó –û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

```http
GET /
```

–ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –∏ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑.

---

### API: –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ

```http
GET /api/autocomplete/?query=mos
```

–û—Ç–≤–µ—Ç:

```json
["Moscow", "Mostar"]
```

---

### API: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∏—Å–∫–∞

```http
GET /api/stats/
```

–û—Ç–≤–µ—Ç:

```json
[
  {"city": "Moscow", "count": 12},
  {"city": "London", "count": 7}
]
```

---

## –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Redis)

* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Redis –∫–∞–∫ –∫—ç—à-–±—ç–∫–µ–Ω–¥
* –ö–ª—é—á–∏ –≤–∏–¥–∞ `weather:<–≥–æ—Ä–æ–¥>` —Ö—Ä–∞–Ω—è—Ç –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ **5 –º–∏–Ω—É—Ç**
* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∞ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ `settings.py`

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
docker-compose exec web python manage.py test
```

–¢–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è:

* –ú–æ–¥–µ–ª—å `CitySearch`
* –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —à–∞–±–ª–æ–Ω–æ–≤
* API-–∑–∞–ø—Ä–æ—Å—ã (—É—Å–ø–µ—à–Ω—ã–µ, –æ—à–∏–±–æ—á–Ω—ã–µ, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
* –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–Ω–µ—à–Ω–µ–≥–æ API

---


> –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–º **–ú–æ—Ä–æ–∑–æ–≤ –î–∞–Ω–∏–ª–∞**
